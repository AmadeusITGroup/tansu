<!DOCTYPE html><html class="default" lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>@amadeus-it-group/tansu</title><meta name="description" content="Documentation for @amadeus-it-group/tansu"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os"</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">@amadeus-it-group/tansu</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h2>@amadeus-it-group/tansu</h2></div><div class="tsd-panel tsd-typography"><a id="md:tansu" class="tsd-anchor"></a><h1><a href="#md:tansu">Tansu</a></h1><p><a href="https://www.npmjs.com/package/@amadeus-it-group/tansu"><img src="https://img.shields.io/npm/v/@amadeus-it-group/tansu" alt="npm"></a>
<img src="https://github.com/AmadeusITGroup/tansu/workflows/ci/badge.svg" alt="build">
<a href="https://codecov.io/gh/AmadeusITGroup/tansu"><img src="https://codecov.io/gh/AmadeusITGroup/tansu/branch/master/graph/badge.svg" alt="codecov"></a></p>
<p>Tansu is a lightweight, push-based framework-agnostic state management library.
It borrows the ideas and APIs originally designed and implemented by <a href="https://github.com/sveltejs/rfcs/blob/master/text/0002-reactive-stores.md">Svelte stores</a>
and extends them with <code>computed</code> and <code>batch</code>.</p>
<p>Main characteristics:</p>
<ul>
<li>small conceptual surface with expressive and very flexible API (functional and class-based);</li>
<li>can be used to create &quot;local&quot; (module-level or component-level), collaborating stores;</li>
<li>can handle both immutable and mutable data;</li>
<li>results in compact code with the absolute minimum of boilerplate.</li>
</ul>
<p>Implementation wise, it is a tiny (1300 LOC) library without any external dependencies.</p>
<a id="md:installation" class="tsd-anchor"></a><h2><a href="#md:installation">Installation</a></h2><p>You can add Tansu to your project by installing the <code>@amadeus-it-group/tansu</code> package using your favorite package manager, ex.:</p>
<ul>
<li><code>yarn add @amadeus-it-group/tansu</code></li>
<li><code>npm install @amadeus-it-group/tansu</code></li>
</ul>
<a id="md:usage" class="tsd-anchor"></a><h2><a href="#md:usage">Usage</a></h2><p>Check out the <a href="https://amadeusitgroup.github.io/tansu/">Tansu API documentation</a>.</p>
<p>The functional part of the API to manage your reactive state can be categorized into three distinct groups:</p>
<ul>
<li>Base store: <code>writable</code></li>
<li>Computed stores: <code>derived</code>, <code>computed</code>, <code>readable</code></li>
<li>Utilities: <code>batch</code>, <code>asReadable</code>, <code>asWritable</code></li>
</ul>
<a id="md:writable" class="tsd-anchor"></a><h3><a href="#md:writable">writable</a></h3><p><a href="https://amadeusitgroup.github.io/tansu/functions/writable.html">api documentation</a></p>
<p><strong>Writable: A Fundamental Building Block</strong></p>
<p>A <code>writable</code> serves as the foundational element of a &quot;store&quot; – a container designed to encapsulate a value, enabling observation and modification of its state. You can change the internal value using the <code>set</code> or <code>update</code> methods.</p>
<p>To receive notifications whenever the value undergoes a change, the <code>subscribe()</code> method, paired with a callback function, can be employed.</p>
<a id="md:basic-usage" class="tsd-anchor"></a><h4><a href="#md:basic-usage">Basic usage</a></h4><pre><code class="language-typescript"><span class="hl-0">import</span><span class="hl-1"> {</span><span class="hl-2">writable</span><span class="hl-1">} </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&quot;@amadeus-it-group/tansu&quot;</span><span class="hl-1">;</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">value$</span><span class="hl-1"> = </span><span class="hl-6">writable</span><span class="hl-1">(</span><span class="hl-7">0</span><span class="hl-1">);</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">unsubscribe</span><span class="hl-1"> = </span><span class="hl-2">values$</span><span class="hl-1">.</span><span class="hl-6">subscribe</span><span class="hl-1">((</span><span class="hl-2">value</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-3">`value = </span><span class="hl-4">${</span><span class="hl-2">value</span><span class="hl-4">}</span><span class="hl-3">`</span><span class="hl-1">);</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-2">value$</span><span class="hl-1">.</span><span class="hl-6">set</span><span class="hl-1">(</span><span class="hl-7">1</span><span class="hl-1">);</span><br/><span class="hl-2">value$</span><span class="hl-1">.</span><span class="hl-6">update</span><span class="hl-1">((</span><span class="hl-2">value</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-2">value</span><span class="hl-1"> + </span><span class="hl-7">1</span><span class="hl-1">);</span>
</code><button>Copy</button></pre>
<p>output:</p>
<pre><code class="language-text">  value = 0
  value = 1
  value = 2
</code><button>Copy</button></pre>
<a id="md:setup-and-teardown" class="tsd-anchor"></a><h4><a href="#md:setup-and-teardown">Setup and teardown</a></h4><p>The writable&#39;s second parameter allows for receiving notifications when at least one subscriber subscribes or when there are no more subscribers.</p>
<pre><code class="language-typescript"><span class="hl-0">import</span><span class="hl-1"> {</span><span class="hl-2">writable</span><span class="hl-1">} </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&quot;@amadeus-it-group/tansu&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">value$</span><span class="hl-1"> = </span><span class="hl-6">writable</span><span class="hl-1">(</span><span class="hl-7">0</span><span class="hl-1">, () </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-3">&#39;At least one subscriber&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-1">  </span><span class="hl-0">return</span><span class="hl-1"> () </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-3">&#39;No more subscriber&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">unsubscribe</span><span class="hl-1"> = </span><span class="hl-2">values$</span><span class="hl-1">.</span><span class="hl-6">subscribe</span><span class="hl-1">((</span><span class="hl-2">value</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-3">`value = </span><span class="hl-4">${</span><span class="hl-2">value</span><span class="hl-4">}</span><span class="hl-3">`</span><span class="hl-1">);</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-2">value$</span><span class="hl-1">.</span><span class="hl-6">set</span><span class="hl-1">(</span><span class="hl-7">1</span><span class="hl-1">);</span><br/><span class="hl-6">unsubscribe</span><span class="hl-1">();</span>
</code><button>Copy</button></pre>
<p>output:</p>
<pre><code class="language-text">  At least one subscriber
  value = 0
  value = 1
  No more subscriber
</code><button>Copy</button></pre>
<a id="md:derived" class="tsd-anchor"></a><h3><a href="#md:derived">derived</a></h3><p><a href="https://amadeusitgroup.github.io/tansu/functions/derived.html">api documentation</a></p>
<p>A <code>derived</code> store calculates its value based on one or more other stores provided as parameters.
Since its value is derived from other stores, it is a read-only store and does not have any <code>set</code> or <code>update</code> methods.</p>
<a id="md:single-store" class="tsd-anchor"></a><h4><a href="#md:single-store">Single store</a></h4><pre><code class="language-typescript"><span class="hl-0">import</span><span class="hl-1"> {</span><span class="hl-2">writable</span><span class="hl-1">, </span><span class="hl-2">derived</span><span class="hl-1">} </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&quot;@amadeus-it-group/tansu&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">value$</span><span class="hl-1"> = </span><span class="hl-6">writable</span><span class="hl-1">(</span><span class="hl-7">1</span><span class="hl-1">);</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">double$</span><span class="hl-1"> = </span><span class="hl-6">derived</span><span class="hl-1">(</span><span class="hl-2">value$</span><span class="hl-1">, (</span><span class="hl-2">value</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-2">value</span><span class="hl-1"> * </span><span class="hl-7">2</span><span class="hl-1">);</span><br/><br/><span class="hl-2">double$</span><span class="hl-1">.</span><span class="hl-6">subscribe</span><span class="hl-1">((</span><span class="hl-2">double</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-3">&#39;Double value&#39;</span><span class="hl-1">, </span><span class="hl-2">double</span><span class="hl-1">));</span><br/><span class="hl-2">value$</span><span class="hl-1">.</span><span class="hl-6">set</span><span class="hl-1">(</span><span class="hl-7">2</span><span class="hl-1">);</span>
</code><button>Copy</button></pre>
<p>output:</p>
<pre><code class="language-text">Double value 2
Double value 4
</code><button>Copy</button></pre>
<a id="md:multiple-stores" class="tsd-anchor"></a><h4><a href="#md:multiple-stores">Multiple stores</a></h4><pre><code class="language-typescript"><span class="hl-0">import</span><span class="hl-1"> {</span><span class="hl-2">writable</span><span class="hl-1">, </span><span class="hl-2">derived</span><span class="hl-1">} </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&quot;@amadeus-it-group/tansu&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">a$</span><span class="hl-1"> = </span><span class="hl-6">writable</span><span class="hl-1">(</span><span class="hl-7">1</span><span class="hl-1">);</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">b$</span><span class="hl-1"> = </span><span class="hl-6">writable</span><span class="hl-1">(</span><span class="hl-7">1</span><span class="hl-1">);</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">sum$</span><span class="hl-1"> = </span><span class="hl-6">derived</span><span class="hl-1">([</span><span class="hl-2">a$</span><span class="hl-1">, </span><span class="hl-2">b$</span><span class="hl-1">], ([</span><span class="hl-2">a</span><span class="hl-1">, </span><span class="hl-2">b</span><span class="hl-1">]) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-2">a</span><span class="hl-1"> + </span><span class="hl-2">b</span><span class="hl-1">);</span><br/><br/><span class="hl-2">sum$</span><span class="hl-1">.</span><span class="hl-6">subscribe</span><span class="hl-1">((</span><span class="hl-2">sum</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-3">&#39;Sum&#39;</span><span class="hl-1">, </span><span class="hl-2">sum</span><span class="hl-1">));</span><br/><span class="hl-2">a$</span><span class="hl-1">.</span><span class="hl-6">set</span><span class="hl-1">(</span><span class="hl-7">2</span><span class="hl-1">);</span>
</code><button>Copy</button></pre>
<p>output:</p>
<pre><code class="language-text">Sum 2
Sum 3
</code><button>Copy</button></pre>
<a id="md:asynchronous-set" class="tsd-anchor"></a><h4><a href="#md:asynchronous-set">Asynchronous set</a></h4><p>A <code>derived</code> can directly manipulate its value using the set method instead of relying on the returned value of the provided function.
This flexibility allows you to manage asynchronous operations or apply filtering logic before updating the observable&#39;s value.</p>
<pre><code class="language-typescript"><span class="hl-0">import</span><span class="hl-1"> {</span><span class="hl-2">writable</span><span class="hl-1">, </span><span class="hl-2">derived</span><span class="hl-1">} </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&quot;@amadeus-it-group/tansu&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">a$</span><span class="hl-1"> = </span><span class="hl-6">writable</span><span class="hl-1">(</span><span class="hl-7">0</span><span class="hl-1">);</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">asynchronousDouble$</span><span class="hl-1"> = </span><span class="hl-6">derived</span><span class="hl-1">(</span><span class="hl-2">a$</span><span class="hl-1">, (</span><span class="hl-2">a</span><span class="hl-1">, </span><span class="hl-2">set</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">plannedLater</span><span class="hl-1"> = </span><span class="hl-6">setTimeout</span><span class="hl-1">(() </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-6">set</span><span class="hl-1">(</span><span class="hl-2">a</span><span class="hl-1"> * </span><span class="hl-7">2</span><span class="hl-1">));</span><br/><span class="hl-1">  </span><span class="hl-0">return</span><span class="hl-1"> () </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-8">// This clean-up function is called if there is no listener anymore,</span><br/><span class="hl-1">    </span><span class="hl-8">// or if the value of a$ changed</span><br/><span class="hl-1">    </span><span class="hl-8">// In this case, the function passed to setTimeout should not be called</span><br/><span class="hl-1">    </span><span class="hl-8">// (if it was not called already)</span><br/><span class="hl-1">    </span><span class="hl-6">clearTimeout</span><span class="hl-1">(</span><span class="hl-2">plannedLater</span><span class="hl-1">);</span><br/><span class="hl-1">  };</span><br/><span class="hl-1">}, -</span><span class="hl-7">1</span><span class="hl-1">);</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">evenOnly$</span><span class="hl-1"> = </span><span class="hl-6">derived</span><span class="hl-1">(</span><span class="hl-2">a$</span><span class="hl-1">, (</span><span class="hl-2">a</span><span class="hl-1">, </span><span class="hl-2">set</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-2">a</span><span class="hl-1"> % </span><span class="hl-7">2</span><span class="hl-1"> === </span><span class="hl-7">0</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-6">set</span><span class="hl-1">(</span><span class="hl-2">a</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}, &lt;</span><span class="hl-9">number</span><span class="hl-1"> | </span><span class="hl-9">undefined</span><span class="hl-1">&gt;</span><span class="hl-4">undefined</span><span class="hl-1">);</span><br/><br/><span class="hl-2">asynchronousDouble$</span><span class="hl-1">.</span><span class="hl-6">subscribe</span><span class="hl-1">((</span><span class="hl-2">double</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-3">&#39;Double (asynchronous)&#39;</span><span class="hl-1">, </span><span class="hl-2">double</span><span class="hl-1">));</span><br/><span class="hl-2">evenOnly$</span><span class="hl-1">.</span><span class="hl-6">subscribe</span><span class="hl-1">((</span><span class="hl-2">value</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-3">&#39;Even&#39;</span><span class="hl-1">, </span><span class="hl-2">value</span><span class="hl-1">));</span><br/><br/><span class="hl-2">a$</span><span class="hl-1">.</span><span class="hl-6">set</span><span class="hl-1">(</span><span class="hl-7">1</span><span class="hl-1">);</span><br/><span class="hl-2">a$</span><span class="hl-1">.</span><span class="hl-6">set</span><span class="hl-1">(</span><span class="hl-7">2</span><span class="hl-1">);</span>
</code><button>Copy</button></pre>
<p>output:</p>
<pre><code class="language-text">Double (asynchronous) -1
Even 0
Even 2
Double (asynchronous) 4
</code><button>Copy</button></pre>
<a id="md:computed" class="tsd-anchor"></a><h3><a href="#md:computed">computed</a></h3><p><a href="https://amadeusitgroup.github.io/tansu/functions/computed.html">api documentation</a></p>
<p>A <code>computed</code> store is another variant of a derived store, with the following characteristics:</p>
<ul>
<li><p><strong>Implicit Dependencies:</strong> Unlike in a derived store, there is no requirement to explicitly declare dependencies.</p>
</li>
<li><p><strong>Dynamic Dependency Listening:</strong> Dependencies are determined based on their usage. This implies that a dependency not actively used is not automatically &quot;listened&quot; to, optimizing resource utilization.</p>
</li>
</ul>
<a id="md:switch-map" class="tsd-anchor"></a><h4><a href="#md:switch-map">Switch map</a></h4><p>This capability to subscribe/unsubscribe to the dependency allows to create switch maps in a natural way.</p>
<pre><code class="language-typescript"><span class="hl-0">import</span><span class="hl-1"> {</span><span class="hl-2">writable</span><span class="hl-1">, </span><span class="hl-2">computed</span><span class="hl-1">} </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&quot;@amadeus-it-group/tansu&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">switchToA$</span><span class="hl-1"> = </span><span class="hl-6">writable</span><span class="hl-1">(</span><span class="hl-4">true</span><span class="hl-1">);</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">a$</span><span class="hl-1"> = </span><span class="hl-6">writable</span><span class="hl-1">(</span><span class="hl-7">1</span><span class="hl-1">);</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">b$</span><span class="hl-1"> = </span><span class="hl-6">writable</span><span class="hl-1">(</span><span class="hl-7">0</span><span class="hl-1">);</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">computedValue$</span><span class="hl-1"> = </span><span class="hl-6">computed</span><span class="hl-1">(() </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-6">switchToA$</span><span class="hl-1">()) {</span><br/><span class="hl-1">    </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-3">&#39;Return a$&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-6">a$</span><span class="hl-1">();</span><br/><span class="hl-1">  } </span><span class="hl-0">else</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-3">&#39;Return b$&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-6">b$</span><span class="hl-1">();</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-2">computedValue$</span><span class="hl-1">.</span><span class="hl-6">subscribe</span><span class="hl-1">((</span><span class="hl-2">value</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-3">&#39;Computed value:&#39;</span><span class="hl-1">, </span><span class="hl-2">value</span><span class="hl-1">));</span><br/><span class="hl-2">a$</span><span class="hl-1">.</span><span class="hl-6">set</span><span class="hl-1">(</span><span class="hl-7">2</span><span class="hl-1">);</span><br/><span class="hl-2">switchToA$</span><span class="hl-1">.</span><span class="hl-6">set</span><span class="hl-1">(</span><span class="hl-4">false</span><span class="hl-1">);</span><br/><span class="hl-2">a$</span><span class="hl-1">.</span><span class="hl-6">set</span><span class="hl-1">(</span><span class="hl-7">3</span><span class="hl-1">);</span><br/><span class="hl-2">a$</span><span class="hl-1">.</span><span class="hl-6">set</span><span class="hl-1">(</span><span class="hl-7">4</span><span class="hl-1">);</span><br/><span class="hl-2">switchToA$</span><span class="hl-1">.</span><span class="hl-6">set</span><span class="hl-1">(</span><span class="hl-4">true</span><span class="hl-1">);</span><br/>
</code><button>Copy</button></pre>
<p>output:</p>
<pre><code class="language-text">Return a$
Computed value: 1
Return a$
Computed value: 2
Return b$
Computed value: 0
Return a$
Computed value: 4
</code><button>Copy</button></pre>
<p>When <code>switchToA$.set(false)</code> is called, the subscription to <code>a$</code> is canceled, which means that subsequent changes to <code>a$</code> will no longer trigger the calculation., which is only performed again when switchToA$ is set back to true.</p>
<a id="md:readable" class="tsd-anchor"></a><h3><a href="#md:readable">readable</a></h3><p><a href="https://amadeusitgroup.github.io/tansu/functions/readable.html">api documentation</a></p>
<p>Similar to Svelte stores, this function generates a store where the value cannot be externally modified.</p>
<pre><code class="language-typescript"><span class="hl-0">import</span><span class="hl-1"> {</span><span class="hl-2">readable</span><span class="hl-1">} </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@amadeus-it-group/tansu&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">time</span><span class="hl-1"> = </span><span class="hl-6">readable</span><span class="hl-1">(</span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">Date</span><span class="hl-1">(), (</span><span class="hl-2">set</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">interval</span><span class="hl-1"> = </span><span class="hl-6">setInterval</span><span class="hl-1">(() </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-6">set</span><span class="hl-1">(</span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">Date</span><span class="hl-1">());</span><br/><span class="hl-1">  }, </span><span class="hl-7">1000</span><span class="hl-1">);</span><br/><br/><span class="hl-1">  </span><span class="hl-0">return</span><span class="hl-1"> () </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-6">clearInterval</span><span class="hl-1">(</span><span class="hl-2">interval</span><span class="hl-1">);</span><br/><span class="hl-1">});</span>
</code><button>Copy</button></pre>
<a id="md:derived-vs-computed" class="tsd-anchor"></a><h3><a href="#md:derived-vs-computed">derived vs computed</a></h3><p>While derived and computed may appear similar, they exhibit distinct characteristics that can significantly impact effectiveness based on use-cases:</p>
<ul>
<li><p><strong>Declaration of Dependencies:</strong></p>
<ul>
<li><code>computed</code>: No explicit declaration of dependencies is required, providing more flexibility in code composition.</li>
<li><code>derived</code>: Requires explicit declaration of dependencies.</li>
</ul>
</li>
<li><p><strong>Performance:</strong></p>
<ul>
<li><code>computed</code>: Better performance by re-running the function only based on changes in the stores involved in the last run.</li>
<li><code>derived</code>: Re-run the function each time a dependent store changes.</li>
</ul>
</li>
<li><p><strong>Asynchronous State:</strong></p>
<ul>
<li><code>computed</code>: Unable to manage asynchronous state.</li>
<li><code>derived</code>: Can handle asynchronous state with the <code>set</code> method.</li>
</ul>
</li>
<li><p><strong>Skipping Value Emission:</strong></p>
<ul>
<li><code>computed</code>: Does not provide a mechanism to skip emitting values.</li>
<li><code>derived</code>: Allows skipping the emission of values by choosing not to call the provided <code>set</code> method.</li>
</ul>
</li>
<li><p><strong>Setup and Teardown:</strong></p>
<ul>
<li><code>computed</code>: Lacks explicit setup and teardown methods.</li>
<li><code>derived</code>: Supports setup and teardown methods, allowing actions such as adding or removing DOM listeners.</li>
<li>When the last listener unsubscribes and then subscribes again, the derived function is rerun due to its setup-teardown functionality. In contrast, a computed provides the last value without recomputing if dependencies haven&#39;t changed in the meantime.</li>
</ul>
</li>
</ul>
<p>While <code>computed</code> feels more intuitive in many use-cases, <code>derived</code> excels in scenarios where <code>computed</code> falls short, particularly in managing asynchronous state and providing more granular control over value emissions.</p>
<p>Carefully choosing between them based on specific requirements enhances the effectiveness of state management in your application.</p>
<a id="md:getting-the-value" class="tsd-anchor"></a><h3><a href="#md:getting-the-value">Getting the value</a></h3><p>There are three ways for getting the value of a store:</p>
<pre><code class="language-typescript"><span class="hl-0">import</span><span class="hl-1"> {</span><span class="hl-2">writable</span><span class="hl-1">, </span><span class="hl-2">get</span><span class="hl-1">} </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&quot;@amadeus-it-group/tansu&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">count$</span><span class="hl-1"> = </span><span class="hl-6">writable</span><span class="hl-1">(</span><span class="hl-7">1</span><span class="hl-1">);</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">unsubscribe</span><span class="hl-1"> = </span><span class="hl-2">count$</span><span class="hl-1">.</span><span class="hl-6">subscribe</span><span class="hl-1">((</span><span class="hl-2">count</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-8">// Will be called with the updated value synchronously first, then each time count$ changes.</span><br/><span class="hl-1">  </span><span class="hl-8">// `unsubscribe` must be called to prevent future calls.</span><br/><span class="hl-1">  </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-2">count</span><span class="hl-1">);</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-8">// A store is also a function that you can call to get the instant value.</span><br/><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-6">count$</span><span class="hl-1">());</span><br/><br/><span class="hl-8">// Equivalent to</span><br/><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-6">get</span><span class="hl-1">(</span><span class="hl-2">count$</span><span class="hl-1">));</span>
</code><button>Copy</button></pre>
<blockquote>
<p>[!NOTE]
Getting the instant value implies the subscription and unsubription on the store:</p>
<ul>
<li>It can be important to know in case of setup/teardown functions.</li>
<li>In the same scope, prefer to store the value once in a local variable instead of calling <code>store$()</code> several times.</li>
</ul>
<p>When called inside a reactive context (i.e. inside a computed), getting the value serves to know and &quot;listen&quot; the dependent stores.</p>
</blockquote>
<a id="md:batch" class="tsd-anchor"></a><h3><a href="#md:batch">batch</a></h3><p><a href="https://amadeusitgroup.github.io/tansu/functions/batch.html">api documentation</a></p>
<p>Contrary to other libraries like Angular with signals or Svelte with runes, where the callback of a subscription is executed asynchronously (usually referenced as an &quot;effect&quot;), we have maintained the constraint of synchronicity between the store changes and their subscriptions in Tansu.</p>
<p>While it is acceptable for these frameworks to defer these calls since their goals are well-known in advance (to optimize their final rendering), this is not the case for Tansu, where the goal is to be adaptable to any situation.</p>
<p>The problem with synchronous subscriptions is that it can create &quot;glitches&quot;. Subscribers and computed store callbacks that are run too many times can create incorrect intermediate values.</p>
<p>Svelte stores resolved the <a href="https://github.com/sveltejs/svelte/pull/2955">diamond dependency issue</a>, but it does not match all the use-cases.</p>
<p>Let&#39;s have a look at the following example:</p>
<pre><code class="language-typescript"><span class="hl-0">import</span><span class="hl-1"> {</span><span class="hl-2">writable</span><span class="hl-1">, </span><span class="hl-2">derived</span><span class="hl-1">} </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@amadeus-it-group/tansu&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">firstName</span><span class="hl-1"> = </span><span class="hl-6">writable</span><span class="hl-1">(</span><span class="hl-3">&#39;Arsène&#39;</span><span class="hl-1">);</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">lastName</span><span class="hl-1"> = </span><span class="hl-6">writable</span><span class="hl-1">(</span><span class="hl-3">&#39;Lupin&#39;</span><span class="hl-1">);</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">fullName</span><span class="hl-1"> = </span><span class="hl-6">derived</span><span class="hl-1">([</span><span class="hl-2">firstName</span><span class="hl-1">, </span><span class="hl-2">lastName</span><span class="hl-1">], ([</span><span class="hl-2">a</span><span class="hl-1">, </span><span class="hl-2">b</span><span class="hl-1">]) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-3">`</span><span class="hl-4">${</span><span class="hl-2">a</span><span class="hl-4">}</span><span class="hl-3"> </span><span class="hl-4">${</span><span class="hl-2">b</span><span class="hl-4">}</span><span class="hl-3">`</span><span class="hl-1">);</span><br/><span class="hl-2">fullName</span><span class="hl-1">.</span><span class="hl-6">subscribe</span><span class="hl-1">((</span><span class="hl-2">name</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-2">name</span><span class="hl-1">)); </span><span class="hl-8">// logs any change to fullName</span><br/><span class="hl-2">firstName</span><span class="hl-1">.</span><span class="hl-6">set</span><span class="hl-1">(</span><span class="hl-3">&#39;Sherlock&#39;</span><span class="hl-1">);</span><br/><span class="hl-2">lastName</span><span class="hl-1">.</span><span class="hl-6">set</span><span class="hl-1">(</span><span class="hl-3">&#39;Holmes&#39;</span><span class="hl-1">);</span><br/><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-3">&#39;Process end&#39;</span><span class="hl-1">);</span>
</code><button>Copy</button></pre>
<p>output:</p>
<pre><code class="language-text">Arsène Lupin
Sherlock Lupin
Sherlock Holmes
Process end
</code><button>Copy</button></pre>
<p>The fullName store successively went through different states, including an inconsistent one, as <code>Sherlock Lupin</code> does not exist! Even if it can be seen as just an intermediate state, it is <strong>fundamental</strong> for a state management to only manage consistent data in order to prevent issues and optimize the code.</p>
<p>In Tansu, the <code>batch</code> is available to defer <strong>synchronously</strong> the subscribers calls, and de facto the dependent <code>derived</code> or <code>computed</code> calculation to solve all kind of multiple dependencies issues.</p>
<p>The previous example is resolved this way:</p>
<pre><code class="language-typescript"><span class="hl-0">import</span><span class="hl-1"> {</span><span class="hl-2">writable</span><span class="hl-1">, </span><span class="hl-2">derived</span><span class="hl-1">, </span><span class="hl-2">computed</span><span class="hl-1">, </span><span class="hl-2">batch</span><span class="hl-1">} </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@amadeus-it-group/tansu&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">firstName</span><span class="hl-1"> = </span><span class="hl-6">writable</span><span class="hl-1">(</span><span class="hl-3">&#39;Arsène&#39;</span><span class="hl-1">);</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">lastName</span><span class="hl-1"> = </span><span class="hl-6">writable</span><span class="hl-1">(</span><span class="hl-3">&#39;Lupin&#39;</span><span class="hl-1">);</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">fullName</span><span class="hl-1"> = </span><span class="hl-6">derived</span><span class="hl-1">([</span><span class="hl-2">firstName</span><span class="hl-1">, </span><span class="hl-2">lastName</span><span class="hl-1">], ([</span><span class="hl-2">a</span><span class="hl-1">, </span><span class="hl-2">b</span><span class="hl-1">]) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-3">`</span><span class="hl-4">${</span><span class="hl-2">a</span><span class="hl-4">}</span><span class="hl-3"> </span><span class="hl-4">${</span><span class="hl-2">b</span><span class="hl-4">}</span><span class="hl-3">`</span><span class="hl-1">);</span><br/><span class="hl-8">// note that the fullName store could alternatively be create with computed:</span><br/><span class="hl-8">// const fullName = computed(() =&gt; `${firstName()} ${lastName()}`);</span><br/><span class="hl-2">fullName</span><span class="hl-1">.</span><span class="hl-6">subscribe</span><span class="hl-1">((</span><span class="hl-2">name</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-2">name</span><span class="hl-1">)); </span><span class="hl-8">// logs any change to fullName</span><br/><span class="hl-6">batch</span><span class="hl-1">(() </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">firstName</span><span class="hl-1">.</span><span class="hl-6">set</span><span class="hl-1">(</span><span class="hl-3">&#39;Sherlock&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-2">lastName</span><span class="hl-1">.</span><span class="hl-6">set</span><span class="hl-1">(</span><span class="hl-3">&#39;Holmes&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">});</span><br/><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-3">&#39;Process end&#39;</span><span class="hl-1">);</span>
</code><button>Copy</button></pre>
<p>output:</p>
<pre><code class="language-text">Arsène Lupin
Sherlock Holmes
Process end
</code><button>Copy</button></pre>
<blockquote>
<p>[!NOTE]</p>
<ul>
<li>Retrieving the immediate value of a store (using any of the three methods mentioned earlier: calling <code>subscribe</code> with a subscriber that will be called with the value synchronously, using <code>get</code> or calling the store as a function) always provides the value based on the up-to-date values of all dependent stores (even if this requires re-computations of a computed or a derived inside the batch)</li>
<li>all calls to subscribers (excluding the first synchronous call during the subscribe process) are deferred until the end of the batch</li>
<li>if a subscriber has already been notified of a new value inside the batch (for example, when it is a new subscriber registered within the batch), it won&#39;t be notified again at the end of the batch if the value remains unchanged. Subscribers are invoked only when the store&#39;s value has changed since their last call.</li>
<li><code>batch</code> can be called inside <code>batch</code>. The subscriber calls are performed at the end of the first batch, synchronously.</li>
</ul>
</blockquote>
<a id="md:asreadable" class="tsd-anchor"></a><h3><a href="#md:asreadable">asReadable</a></h3><p><a href="https://amadeusitgroup.github.io/tansu/functions/asReadable.html">api documentation</a></p>
<p><code>asReadable</code> returns a new store that exposes only the essential elements needed for subscribing to the store. It also includes any extra methods passed as parameters.</p>
<p>This is useful and widely used to compose a custom store:</p>
<ul>
<li>The first parameter is the writable store,</li>
<li>The second parameter is an object to extend the readable store returned.</li>
</ul>
<pre><code class="language-typescript"><span class="hl-0">import</span><span class="hl-1"> {</span><span class="hl-2">writable</span><span class="hl-1">, </span><span class="hl-2">asReadable</span><span class="hl-1">} </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&quot;@amadeus-it-group/tansu&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">function</span><span class="hl-1"> </span><span class="hl-6">createCounter</span><span class="hl-1">(</span><span class="hl-2">initialValue</span><span class="hl-1">: </span><span class="hl-9">number</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">store$</span><span class="hl-1"> = </span><span class="hl-6">writable</span><span class="hl-1">(</span><span class="hl-2">initialValue</span><span class="hl-1">);</span><br/><br/><span class="hl-1">  </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-6">asReadable</span><span class="hl-1">(</span><span class="hl-2">store$</span><span class="hl-1">, {</span><br/><span class="hl-1">    </span><span class="hl-6">increment</span><span class="hl-2">:</span><span class="hl-1"> () </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-2">store$</span><span class="hl-1">.</span><span class="hl-6">update</span><span class="hl-1">((</span><span class="hl-2">value</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-2">value</span><span class="hl-1"> + </span><span class="hl-7">1</span><span class="hl-1">),</span><br/><span class="hl-1">    </span><span class="hl-6">decrement</span><span class="hl-2">:</span><span class="hl-1"> () </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-2">store$</span><span class="hl-1">.</span><span class="hl-6">update</span><span class="hl-1">((</span><span class="hl-2">value</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-2">value</span><span class="hl-1"> - </span><span class="hl-7">1</span><span class="hl-1">),</span><br/><span class="hl-1">    </span><span class="hl-6">reset</span><span class="hl-2">:</span><span class="hl-1"> () </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-2">store$</span><span class="hl-1">.</span><span class="hl-6">set</span><span class="hl-1">(</span><span class="hl-2">initialValue</span><span class="hl-1">)</span><br/><span class="hl-1">  });</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">counter$</span><span class="hl-1"> = </span><span class="hl-6">createCounter</span><span class="hl-1">(</span><span class="hl-7">0</span><span class="hl-1">);</span><br/><br/><span class="hl-2">counter$</span><span class="hl-1">.</span><span class="hl-6">subscribe</span><span class="hl-1">((</span><span class="hl-2">value</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-3">&#39;Value: &#39;</span><span class="hl-1">, </span><span class="hl-2">value</span><span class="hl-1">));</span><br/><br/><span class="hl-2">counter$</span><span class="hl-1">.</span><span class="hl-6">increment</span><span class="hl-1">();</span><br/><span class="hl-2">counter$</span><span class="hl-1">.</span><span class="hl-6">reset</span><span class="hl-1">();</span><br/><span class="hl-2">counter$</span><span class="hl-1">.</span><span class="hl-6">set</span><span class="hl-1">(</span><span class="hl-7">2</span><span class="hl-1">); </span><span class="hl-8">// Error, set does not exist</span>
</code><button>Copy</button></pre>
<p>output:</p>
<pre><code class="language-text">Value: 0
Value: 1
Value: 0
(Error thrown !)
</code><button>Copy</button></pre>
<a id="md:aswritable" class="tsd-anchor"></a><h3><a href="#md:aswritable">asWritable</a></h3><p><a href="https://amadeusitgroup.github.io/tansu/functions/asWritable.html">api documentation</a></p>
<p><code>asWritable</code> is almost the same as an <code>asReadable</code>, with the key difference being its implementation of the <a href="https://amadeusitgroup.github.io/tansu/interfaces/WritableSignal.html">WritableSignal</a> interface.</p>
<p>It&#39;s useful when you want to connect your computed store to the original one, or implement a custom <code>set</code> method. The <code>set</code> method can be passed directly in the second parameter or within an object, similar to the usage in <code>asReadable</code>.</p>
<p>For example:</p>
<pre><code class="language-typescript"><span class="hl-0">import</span><span class="hl-1"> {</span><span class="hl-2">writable</span><span class="hl-1">, </span><span class="hl-2">asWritable</span><span class="hl-1">} </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&quot;@amadeus-it-group/tansu&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">number$</span><span class="hl-1"> = </span><span class="hl-6">writable</span><span class="hl-1">(</span><span class="hl-7">1</span><span class="hl-1">);</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">double$</span><span class="hl-1"> = </span><span class="hl-6">computed</span><span class="hl-1">(() </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-6">number$</span><span class="hl-1">() * </span><span class="hl-7">2</span><span class="hl-1">);</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">writableDouble$</span><span class="hl-1"> = </span><span class="hl-6">asWritable</span><span class="hl-1">(</span><span class="hl-2">double$</span><span class="hl-1">, (</span><span class="hl-2">doubleNumber</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-2">number$</span><span class="hl-1">.</span><span class="hl-6">set</span><span class="hl-1">(</span><span class="hl-2">doubleNumber</span><span class="hl-1"> / </span><span class="hl-7">2</span><span class="hl-1">);</span><br/><span class="hl-1">});</span><br/><span class="hl-8">/* equivalent to:</span><br/><span class="hl-8">  const writableDouble$ = asWritable(double$, {</span><br/><span class="hl-8">    set: (doubleNumber) =&gt; number$.set(doubleNumber / 2)</span><br/><span class="hl-8">  });</span><br/><span class="hl-8">*/</span><br/><br/><span class="hl-2">writableDouble$</span><span class="hl-1">.</span><span class="hl-6">subscribe</span><span class="hl-1">((</span><span class="hl-2">value</span><span class="hl-1">) </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-3">&#39;Value: &#39;</span><span class="hl-1">, </span><span class="hl-2">value</span><span class="hl-1">));</span><br/><br/><span class="hl-2">writableDouble$</span><span class="hl-1">.</span><span class="hl-6">set</span><span class="hl-1">(</span><span class="hl-7">2</span><span class="hl-1">); </span><span class="hl-8">// Nothing is triggered here, as number$ is already set with 1</span><br/><span class="hl-2">writableDouble$</span><span class="hl-1">.</span><span class="hl-6">set</span><span class="hl-1">(</span><span class="hl-7">4</span><span class="hl-1">);</span><br/>
</code><button>Copy</button></pre>
<p>output:</p>
<pre><code class="language-text">Value: 2
Value: 4
</code><button>Copy</button></pre>
<a id="md:integration-in-frameworks" class="tsd-anchor"></a><h2><a href="#md:integration-in-frameworks">Integration in frameworks</a></h2><a id="md:tansu-works-well-with-the-svelte-framework" class="tsd-anchor"></a><h3><a href="#md:tansu-works-well-with-the-svelte-framework">Tansu works well with the Svelte framework</a></h3><p>Tansu is designed to be and to remain fully compatible with Svelte.</p>
<a id="md:tansu-works-well-with-the-angular-ecosystem" class="tsd-anchor"></a><h3><a href="#md:tansu-works-well-with-the-angular-ecosystem">Tansu works well with the Angular ecosystem</a></h3><p>Here is an example of an Angular component using a Tansu store:</p>
<pre><code class="language-typescript"><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">Component</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&quot;@angular/core&quot;</span><span class="hl-1">;</span><br/><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">AsyncPipe</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;@angular/common&#39;</span><span class="hl-1">;</span><br/><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">Store</span><span class="hl-1">, </span><span class="hl-2">computed</span><span class="hl-1">, </span><span class="hl-2">get</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&quot;@amadeus-it-group/tansu&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-8">// A store is a class extending Store from Tansu</span><br/><span class="hl-4">class</span><span class="hl-1"> </span><span class="hl-9">CounterStore</span><span class="hl-1"> </span><span class="hl-4">extends</span><span class="hl-1"> </span><span class="hl-9">Store</span><span class="hl-1">&lt;</span><span class="hl-9">number</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">  </span><span class="hl-4">constructor</span><span class="hl-1">() {</span><br/><span class="hl-1">    </span><span class="hl-4">super</span><span class="hl-1">(</span><span class="hl-7">0</span><span class="hl-1">); </span><span class="hl-8">// initialize store&#39;s value (state)</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-8">// implement state manipulation logic as regular methods</span><br/><span class="hl-1">  </span><span class="hl-6">increment</span><span class="hl-1">() {</span><br/><span class="hl-1">    </span><span class="hl-8">// create new state based on the current state</span><br/><span class="hl-1">    </span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-6">update</span><span class="hl-1">(</span><span class="hl-2">value</span><span class="hl-1"> </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-2">value</span><span class="hl-1"> + </span><span class="hl-7">1</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-6">reset</span><span class="hl-1">() {</span><br/><span class="hl-1">    </span><span class="hl-8">// replace the entire state with a new value</span><br/><span class="hl-1">    </span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-6">set</span><span class="hl-1">(</span><span class="hl-7">0</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-1">@</span><span class="hl-6">Component</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-2">selector:</span><span class="hl-1"> </span><span class="hl-3">&quot;my-app&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">template:</span><span class="hl-1"> </span><span class="hl-3">`</span><br/><span class="hl-3">    &lt;button (click)=&quot;counter$.increment()&quot;&gt;+&lt;/button&gt; &lt;br /&gt;</span><br/><br/><span class="hl-3">    &lt;!-- store values can be displayed in a template with the standard async pipe --&gt;</span><br/><span class="hl-3">    Counter: {{ counter$ | async }} &lt;br /&gt;</span><br/><span class="hl-3">    Double counter: {{ doubleCounter$ | async }} &lt;br /&gt;</span><br/><span class="hl-3">  `</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">standalone:</span><span class="hl-1"> </span><span class="hl-4">true</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">imports:</span><span class="hl-1"> [</span><span class="hl-2">AsyncPipe</span><span class="hl-1">]</span><br/><span class="hl-1">})</span><br/><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-4">class</span><span class="hl-1"> </span><span class="hl-9">App</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-8">//  A store can be instantiated directly or registered in the DI container</span><br/><span class="hl-1">  </span><span class="hl-2">counter$</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">CounterStore</span><span class="hl-1">();</span><br/><br/><span class="hl-1">  </span><span class="hl-8">// One can easily create computed values by specifying a transformation function</span><br/><span class="hl-1">  </span><span class="hl-2">doubleCounter$</span><span class="hl-1"> = </span><span class="hl-6">computed</span><span class="hl-1">(() </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-7">2</span><span class="hl-1"> * </span><span class="hl-6">get</span><span class="hl-1">(</span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-2">counter$</span><span class="hl-1">));</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p>While being fairly minimal, this example demonstrates most of the Tansu APIs with Angular.</p>
<ul>
<li>works with the standard <code>async</code> pipe out of the box</li>
<li>stores can be registered in the dependency injection (DI) container at any level (module or component injector)</li>
<li>stores can be used easily with rxjs because they implement the <code>InteropObservable</code> interface</li>
<li>conversely, rxjs observables (or any object implementing the <code>InteropObservable</code> interface) can easily be used with Tansu (e.g. in Tansu <code>computed</code> or <code>derived</code>).</li>
</ul>
<a id="md:contributing-to-the-project" class="tsd-anchor"></a><h2><a href="#md:contributing-to-the-project">Contributing to the project</a></h2><p>Please check the <a href="DEVELOPER.md">DEVELOPER.md</a> for documentation on building and testing the project on your local development machine.</p>
<a id="md:credits-and-the-prior-art" class="tsd-anchor"></a><h2><a href="#md:credits-and-the-prior-art">Credits and the prior art</a></h2><ul>
<li><a href="https://github.com/sveltejs/rfcs/blob/master/text/0002-reactive-stores.md">Svelte</a> gets all the credit for the initial idea and the API design.</li>
<li><a href="https://hackmd.io/zLKrFIadTMS2T6zCYGyHew?view">NgRx component stores</a> solve a similar problem with a different approach.</li>
</ul>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-index-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-theme-toggle"><h4 class="uppercase">Theme</h4><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-index-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><ul><li><ul><li><a href="#md:tansu"><span>Tansu</span></a></li><li><ul><li><a href="#md:installation"><span>Installation</span></a></li><li><a href="#md:usage"><span>Usage</span></a></li><li><ul><li><a href="#md:writable"><span>writable</span></a></li><li><ul><li><a href="#md:basic-usage"><span>Basic usage</span></a></li><li><a href="#md:setup-and-teardown"><span>Setup and teardown</span></a></li></ul></li><li><a href="#md:derived"><span>derived</span></a></li><li><ul><li><a href="#md:single-store"><span>Single store</span></a></li><li><a href="#md:multiple-stores"><span>Multiple stores</span></a></li><li><a href="#md:asynchronous-set"><span>Asynchronous set</span></a></li></ul></li><li><a href="#md:computed"><span>computed</span></a></li><li><ul><li><a href="#md:switch-map"><span>Switch map</span></a></li></ul></li><li><a href="#md:readable"><span>readable</span></a></li><li><a href="#md:derived-vs-computed"><span>derived vs computed</span></a></li><li><a href="#md:getting-the-value"><span>Getting the value</span></a></li><li><a href="#md:batch"><span>batch</span></a></li><li><a href="#md:asreadable"><span>as<wbr/>Readable</span></a></li><li><a href="#md:aswritable"><span>as<wbr/>Writable</span></a></li></ul></li><li><a href="#md:integration-in-frameworks"><span>Integration in frameworks</span></a></li><li><ul><li><a href="#md:tansu-works-well-with-the-svelte-framework"><span>Tansu works well with the <wbr/>Svelte framework</span></a></li><li><a href="#md:tansu-works-well-with-the-angular-ecosystem"><span>Tansu works well with the <wbr/>Angular ecosystem</span></a></li></ul></li><li><a href="#md:contributing-to-the-project"><span>Contributing to the project</span></a></li><li><a href="#md:credits-and-the-prior-art"><span>Credits and the prior art</span></a></li></ul></li></ul></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html" class="current"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-1"></use></svg><span>@amadeus-it-group/tansu</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base="."><li><a href="functions/asReadable.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-64"></use></svg>asReadable</a></li><li><a href="functions/asWritable.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-64"></use></svg>asWritable</a></li><li><a href="functions/batch.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-64"></use></svg>batch</a></li><li><a href="functions/computed.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-64"></use></svg>computed</a></li><li><a href="functions/derived.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-64"></use></svg>derived</a></li><li><a href="functions/equal.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-64"></use></svg>equal</a></li><li><a href="functions/get.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-64"></use></svg>get</a></li><li><a href="functions/readable.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-64"></use></svg>readable</a></li><li><a href="functions/untrack.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-64"></use></svg>untrack</a></li><li><a href="functions/writable.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-64"></use></svg>writable</a></li><li><a href="classes/DerivedStore.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-128"></use></svg>DerivedStore</a></li><li><a href="classes/Store.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-128"></use></svg>Store</a></li><li><a href="interfaces/AsyncDeriveOptions.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-256"></use></svg>AsyncDeriveOptions</a></li><li><a href="interfaces/InteropObservable.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-256"></use></svg>InteropObservable</a></li><li><a href="interfaces/OnUseArgument.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-256"></use></svg>OnUseArgument</a></li><li><a href="interfaces/Readable-1.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-256"></use></svg>Readable</a></li><li><a href="interfaces/ReadableSignal.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-256"></use></svg>ReadableSignal</a></li><li><a href="interfaces/StoreOptions.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-256"></use></svg>StoreOptions</a></li><li><a href="interfaces/SubscribableStore.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-256"></use></svg>SubscribableStore</a></li><li><a href="interfaces/SubscriberObject.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-256"></use></svg>SubscriberObject</a></li><li><a href="interfaces/SyncDeriveOptions.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="#icon-256"></use></svg>SyncDeriveOptions</a></li><li>Loading...</li></ul></nav></div></div></div><div class="tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><svg style="display: none"><g id="icon-1"><rect fill="var(--color-icon-background)" stroke="var(--color-ts-module)" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="6"></rect><path d="M9.162 16V7.24H10.578L11.514 10.072C11.602 10.328 11.674 10.584 11.73 10.84C11.794 11.088 11.842 11.28 11.874 11.416C11.906 11.28 11.954 11.088 12.018 10.84C12.082 10.584 12.154 10.324 12.234 10.06L13.122 7.24H14.538V16H13.482V12.82C13.482 12.468 13.49 12.068 13.506 11.62C13.53 11.172 13.558 10.716 13.59 10.252C13.622 9.78 13.654 9.332 13.686 8.908C13.726 8.476 13.762 8.1 13.794 7.78L12.366 12.16H11.334L9.894 7.78C9.934 8.092 9.97 8.456 10.002 8.872C10.042 9.28 10.078 9.716 10.11 10.18C10.142 10.636 10.166 11.092 10.182 11.548C10.206 12.004 10.218 12.428 10.218 12.82V16H9.162Z" fill="var(--color-text)"></path></g><g id="icon-2"><rect fill="var(--color-icon-background)" stroke="var(--color-ts-module)" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="6"></rect><path d="M9.162 16V7.24H10.578L11.514 10.072C11.602 10.328 11.674 10.584 11.73 10.84C11.794 11.088 11.842 11.28 11.874 11.416C11.906 11.28 11.954 11.088 12.018 10.84C12.082 10.584 12.154 10.324 12.234 10.06L13.122 7.24H14.538V16H13.482V12.82C13.482 12.468 13.49 12.068 13.506 11.62C13.53 11.172 13.558 10.716 13.59 10.252C13.622 9.78 13.654 9.332 13.686 8.908C13.726 8.476 13.762 8.1 13.794 7.78L12.366 12.16H11.334L9.894 7.78C9.934 8.092 9.97 8.456 10.002 8.872C10.042 9.28 10.078 9.716 10.11 10.18C10.142 10.636 10.166 11.092 10.182 11.548C10.206 12.004 10.218 12.428 10.218 12.82V16H9.162Z" fill="var(--color-text)"></path></g><g id="icon-4"><rect fill="var(--color-icon-background)" stroke="var(--color-ts-namespace)" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="6"></rect><path d="M9.33 16V7.24H10.77L13.446 14.74C13.43 14.54 13.41 14.296 13.386 14.008C13.37 13.712 13.354 13.404 13.338 13.084C13.33 12.756 13.326 12.448 13.326 12.16V7.24H14.37V16H12.93L10.266 8.5C10.282 8.692 10.298 8.936 10.314 9.232C10.33 9.52 10.342 9.828 10.35 10.156C10.366 10.476 10.374 10.784 10.374 11.08V16H9.33Z" fill="var(--color-text)"></path></g><g id="icon-8"><rect fill="var(--color-icon-background)" stroke="var(--color-ts-enum)" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="6"></rect><path d="M9.45 16V7.24H14.49V8.224H10.518V10.936H14.07V11.908H10.518V15.016H14.49V16H9.45Z" fill="var(--color-text)"></path></g><g id="icon-16"><rect fill="var(--color-icon-background)" stroke="#FF984D" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="12"></rect><path d="M9.354 16V7.24H12.174C12.99 7.24 13.638 7.476 14.118 7.948C14.606 8.412 14.85 9.036 14.85 9.82C14.85 10.604 14.606 11.232 14.118 11.704C13.638 12.168 12.99 12.4 12.174 12.4H10.434V16H9.354ZM10.434 11.428H12.174C12.646 11.428 13.022 11.284 13.302 10.996C13.59 10.7 13.734 10.308 13.734 9.82C13.734 9.324 13.59 8.932 13.302 8.644C13.022 8.356 12.646 8.212 12.174 8.212H10.434V11.428Z" fill="var(--color-text)"></path></g><g id="icon-32"><rect fill="var(--color-icon-background)" stroke="var(--color-ts-variable)" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="6"></rect><path d="M11.106 16L8.85 7.24H9.966L11.454 13.192C11.558 13.608 11.646 13.996 11.718 14.356C11.79 14.708 11.842 14.976 11.874 15.16C11.906 14.976 11.954 14.708 12.018 14.356C12.09 13.996 12.178 13.608 12.282 13.192L13.758 7.24H14.85L12.582 16H11.106Z" fill="var(--color-text)"></path></g><g id="icon-64"><rect fill="var(--color-icon-background)" stroke="var(--color-ts-function)" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="6"></rect><path d="M9.39 16V7.24H14.55V8.224H10.446V11.128H14.238V12.112H10.47V16H9.39Z" fill="var(--color-text)"></path></g><g id="icon-128"><rect fill="var(--color-icon-background)" stroke="var(--color-ts-class)" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="6"></rect><path d="M11.898 16.1201C11.098 16.1201 10.466 15.8961 10.002 15.4481C9.53803 15.0001 9.30603 14.3841 9.30603 13.6001V9.64012C9.30603 8.85612 9.53803 8.24012 10.002 7.79212C10.466 7.34412 11.098 7.12012 11.898 7.12012C12.682 7.12012 13.306 7.34812 13.77 7.80412C14.234 8.25212 14.466 8.86412 14.466 9.64012H13.386C13.386 9.14412 13.254 8.76412 12.99 8.50012C12.734 8.22812 12.37 8.09212 11.898 8.09212C11.426 8.09212 11.054 8.22412 10.782 8.48812C10.518 8.75212 10.386 9.13212 10.386 9.62812V13.6001C10.386 14.0961 10.518 14.4801 10.782 14.7521C11.054 15.0161 11.426 15.1481 11.898 15.1481C12.37 15.1481 12.734 15.0161 12.99 14.7521C13.254 14.4801 13.386 14.0961 13.386 13.6001H14.466C14.466 14.3761 14.234 14.9921 13.77 15.4481C13.306 15.8961 12.682 16.1201 11.898 16.1201Z" fill="var(--color-text)"></path></g><g id="icon-256"><rect fill="var(--color-icon-background)" stroke="var(--color-ts-interface)" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="6"></rect><path d="M9.51 16V15.016H11.298V8.224H9.51V7.24H14.19V8.224H12.402V15.016H14.19V16H9.51Z" fill="var(--color-text)"></path></g><g id="icon-512"><rect fill="var(--color-icon-background)" stroke="#4D7FFF" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="12"></rect><path d="M11.898 16.1201C11.098 16.1201 10.466 15.8961 10.002 15.4481C9.53803 15.0001 9.30603 14.3841 9.30603 13.6001V9.64012C9.30603 8.85612 9.53803 8.24012 10.002 7.79212C10.466 7.34412 11.098 7.12012 11.898 7.12012C12.682 7.12012 13.306 7.34812 13.77 7.80412C14.234 8.25212 14.466 8.86412 14.466 9.64012H13.386C13.386 9.14412 13.254 8.76412 12.99 8.50012C12.734 8.22812 12.37 8.09212 11.898 8.09212C11.426 8.09212 11.054 8.22412 10.782 8.48812C10.518 8.75212 10.386 9.13212 10.386 9.62812V13.6001C10.386 14.0961 10.518 14.4801 10.782 14.7521C11.054 15.0161 11.426 15.1481 11.898 15.1481C12.37 15.1481 12.734 15.0161 12.99 14.7521C13.254 14.4801 13.386 14.0961 13.386 13.6001H14.466C14.466 14.3761 14.234 14.9921 13.77 15.4481C13.306 15.8961 12.682 16.1201 11.898 16.1201Z" fill="var(--color-text)"></path></g><g id="icon-1024"><rect fill="var(--color-icon-background)" stroke="#FF984D" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="12"></rect><path d="M9.354 16V7.24H12.174C12.99 7.24 13.638 7.476 14.118 7.948C14.606 8.412 14.85 9.036 14.85 9.82C14.85 10.604 14.606 11.232 14.118 11.704C13.638 12.168 12.99 12.4 12.174 12.4H10.434V16H9.354ZM10.434 11.428H12.174C12.646 11.428 13.022 11.284 13.302 10.996C13.59 10.7 13.734 10.308 13.734 9.82C13.734 9.324 13.59 8.932 13.302 8.644C13.022 8.356 12.646 8.212 12.174 8.212H10.434V11.428Z" fill="var(--color-text)"></path></g><g id="icon-2048"><rect fill="var(--color-icon-background)" stroke="#FF4DB8" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="12"></rect><path d="M9.162 16V7.24H10.578L11.514 10.072C11.602 10.328 11.674 10.584 11.73 10.84C11.794 11.088 11.842 11.28 11.874 11.416C11.906 11.28 11.954 11.088 12.018 10.84C12.082 10.584 12.154 10.324 12.234 10.06L13.122 7.24H14.538V16H13.482V12.82C13.482 12.468 13.49 12.068 13.506 11.62C13.53 11.172 13.558 10.716 13.59 10.252C13.622 9.78 13.654 9.332 13.686 8.908C13.726 8.476 13.762 8.1 13.794 7.78L12.366 12.16H11.334L9.894 7.78C9.934 8.092 9.97 8.456 10.002 8.872C10.042 9.28 10.078 9.716 10.11 10.18C10.142 10.636 10.166 11.092 10.182 11.548C10.206 12.004 10.218 12.428 10.218 12.82V16H9.162Z" fill="var(--color-text)"></path></g><g id="icon-4096"><rect fill="var(--color-icon-background)" stroke="var(--color-ts-function)" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="6"></rect><path d="M9.39 16V7.24H14.55V8.224H10.446V11.128H14.238V12.112H10.47V16H9.39Z" fill="var(--color-text)"></path></g><g id="icon-8192"><rect fill="var(--color-icon-background)" stroke="#FF984D" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="12"></rect><path d="M9.354 16V7.24H12.174C12.99 7.24 13.638 7.476 14.118 7.948C14.606 8.412 14.85 9.036 14.85 9.82C14.85 10.604 14.606 11.232 14.118 11.704C13.638 12.168 12.99 12.4 12.174 12.4H10.434V16H9.354ZM10.434 11.428H12.174C12.646 11.428 13.022 11.284 13.302 10.996C13.59 10.7 13.734 10.308 13.734 9.82C13.734 9.324 13.59 8.932 13.302 8.644C13.022 8.356 12.646 8.212 12.174 8.212H10.434V11.428Z" fill="var(--color-text)"></path></g><g id="icon-16384"><rect fill="var(--color-icon-background)" stroke="#4D7FFF" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="12"></rect><path d="M11.898 16.1201C11.098 16.1201 10.466 15.8961 10.002 15.4481C9.53803 15.0001 9.30603 14.3841 9.30603 13.6001V9.64012C9.30603 8.85612 9.53803 8.24012 10.002 7.79212C10.466 7.34412 11.098 7.12012 11.898 7.12012C12.682 7.12012 13.306 7.34812 13.77 7.80412C14.234 8.25212 14.466 8.86412 14.466 9.64012H13.386C13.386 9.14412 13.254 8.76412 12.99 8.50012C12.734 8.22812 12.37 8.09212 11.898 8.09212C11.426 8.09212 11.054 8.22412 10.782 8.48812C10.518 8.75212 10.386 9.13212 10.386 9.62812V13.6001C10.386 14.0961 10.518 14.4801 10.782 14.7521C11.054 15.0161 11.426 15.1481 11.898 15.1481C12.37 15.1481 12.734 15.0161 12.99 14.7521C13.254 14.4801 13.386 14.0961 13.386 13.6001H14.466C14.466 14.3761 14.234 14.9921 13.77 15.4481C13.306 15.8961 12.682 16.1201 11.898 16.1201Z" fill="var(--color-text)"></path></g><g id="icon-32768"><rect fill="var(--color-icon-background)" stroke="#FF984D" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="12"></rect><path d="M9.354 16V7.24H12.174C12.99 7.24 13.638 7.476 14.118 7.948C14.606 8.412 14.85 9.036 14.85 9.82C14.85 10.604 14.606 11.232 14.118 11.704C13.638 12.168 12.99 12.4 12.174 12.4H10.434V16H9.354ZM10.434 11.428H12.174C12.646 11.428 13.022 11.284 13.302 10.996C13.59 10.7 13.734 10.308 13.734 9.82C13.734 9.324 13.59 8.932 13.302 8.644C13.022 8.356 12.646 8.212 12.174 8.212H10.434V11.428Z" fill="var(--color-text)"></path></g><g id="icon-65536"><rect fill="var(--color-icon-background)" stroke="var(--color-ts-type-alias)" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="6"></rect><path d="M11.31 16V8.224H8.91V7.24H14.79V8.224H12.39V16H11.31Z" fill="var(--color-text)"></path></g><g id="icon-131072"><rect fill="var(--color-icon-background)" stroke="var(--color-ts-type-alias)" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="6"></rect><path d="M11.31 16V8.224H8.91V7.24H14.79V8.224H12.39V16H11.31Z" fill="var(--color-text)"></path></g><g id="icon-262144"><rect fill="var(--color-icon-background)" stroke="#FF4D4D" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="12"></rect><path d="M8.85 16L11.13 7.24H12.582L14.85 16H13.758L13.182 13.672H10.53L9.954 16H8.85ZM10.746 12.76H12.954L12.282 10.06C12.154 9.548 12.054 9.12 11.982 8.776C11.91 8.432 11.866 8.208 11.85 8.104C11.834 8.208 11.79 8.432 11.718 8.776C11.646 9.12 11.546 9.544 11.418 10.048L10.746 12.76Z" fill="var(--color-text)"></path></g><g id="icon-524288"><rect fill="var(--color-icon-background)" stroke="#FF4D4D" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="12"></rect><path d="M8.85 16L11.13 7.24H12.582L14.85 16H13.758L13.182 13.672H10.53L9.954 16H8.85ZM10.746 12.76H12.954L12.282 10.06C12.154 9.548 12.054 9.12 11.982 8.776C11.91 8.432 11.866 8.208 11.85 8.104C11.834 8.208 11.79 8.432 11.718 8.776C11.646 9.12 11.546 9.544 11.418 10.048L10.746 12.76Z" fill="var(--color-text)"></path></g><g id="icon-1048576"><rect fill="var(--color-icon-background)" stroke="#FF4D4D" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="12"></rect><path d="M8.85 16L11.13 7.24H12.582L14.85 16H13.758L13.182 13.672H10.53L9.954 16H8.85ZM10.746 12.76H12.954L12.282 10.06C12.154 9.548 12.054 9.12 11.982 8.776C11.91 8.432 11.866 8.208 11.85 8.104C11.834 8.208 11.79 8.432 11.718 8.776C11.646 9.12 11.546 9.544 11.418 10.048L10.746 12.76Z" fill="var(--color-text)"></path></g><g id="icon-2097152"><rect fill="var(--color-icon-background)" stroke="var(--color-ts-type-alias)" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="6"></rect><path d="M11.31 16V8.224H8.91V7.24H14.79V8.224H12.39V16H11.31Z" fill="var(--color-text)"></path></g><g id="icon-4194304"><rect fill="var(--color-icon-background)" stroke="#FF4D82" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="12"></rect><path d="M10.354 17V8.24H13.066C13.586 8.24 14.042 8.348 14.434 8.564C14.826 8.772 15.13 9.064 15.346 9.44C15.562 9.816 15.67 10.256 15.67 10.76C15.67 11.352 15.514 11.86 15.202 12.284C14.898 12.708 14.482 13 13.954 13.16L15.79 17H14.518L12.838 13.28H11.434V17H10.354ZM11.434 12.308H13.066C13.514 12.308 13.874 12.168 14.146 11.888C14.418 11.6 14.554 11.224 14.554 10.76C14.554 10.288 14.418 9.912 14.146 9.632C13.874 9.352 13.514 9.212 13.066 9.212H11.434V12.308Z" fill="var(--color-text)"></path></g><g id="icon-chevronDown"><path d="M4.93896 8.531L12 15.591L19.061 8.531L16.939 6.409L12 11.349L7.06098 6.409L4.93896 8.531Z" fill="var(--color-text)"></path></g><g id="icon-chevronSmall"><path d="M1.5 5.50969L8 11.6609L14.5 5.50969L12.5466 3.66086L8 7.96494L3.45341 3.66086L1.5 5.50969Z" fill="var(--color-text)"></path></g><g id="icon-menu"><rect x="1" y="3" width="14" height="2" fill="var(--color-text)"></rect><rect x="1" y="7" width="14" height="2" fill="var(--color-text)"></rect><rect x="1" y="11" width="14" height="2" fill="var(--color-text)"></rect></g><g id="icon-search"><path d="M15.7824 13.833L12.6666 10.7177C12.5259 10.5771 12.3353 10.499 12.1353 10.499H11.6259C12.4884 9.39596 13.001 8.00859 13.001 6.49937C13.001 2.90909 10.0914 0 6.50048 0C2.90959 0 0 2.90909 0 6.49937C0 10.0896 2.90959 12.9987 6.50048 12.9987C8.00996 12.9987 9.39756 12.4863 10.5008 11.6239V12.1332C10.5008 12.3332 10.5789 12.5238 10.7195 12.6644L13.8354 15.7797C14.1292 16.0734 14.6042 16.0734 14.8948 15.7797L15.7793 14.8954C16.0731 14.6017 16.0731 14.1267 15.7824 13.833ZM6.50048 10.499C4.29094 10.499 2.50018 8.71165 2.50018 6.49937C2.50018 4.29021 4.28781 2.49976 6.50048 2.49976C8.71001 2.49976 10.5008 4.28708 10.5008 6.49937C10.5008 8.70852 8.71314 10.499 6.50048 10.499Z" fill="var(--color-text)"></path></g><g id="icon-anchor"><g stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></g></g></svg></body></html>